{% extends "base.html" %}

{% block content %}
<div class="mb-6 fade-in">
  <div class="flex items-center justify-between flex-wrap gap-4">
    <div>
      <h1 class="page-title">Sentences</h1>
      <div class="text-sm text-[color:var(--muted)]">Language: {{ language }}</div>
    </div>
  <form
    method="post"
    action="{{ url_for('update_sentences', lang=language) }}"
    hx-post="{{ url_for('update_sentences', lang=language) }}"
    hx-target="#sentence-list"
    hx-swap="outerHTML"
    hx-push-url="false"
    hx-disabled-elt="button"
    hx-on:htmx:beforeRequest="const btn=this.querySelector('button'); btn.dataset.label=btn.innerText; btn.innerText='Updating...'; btn.setAttribute('aria-busy','true');"
    hx-on:htmx:afterRequest="const btn=this.querySelector('button'); btn.innerText=btn.dataset.label || 'Update'; btn.removeAttribute('aria-busy');"
  >
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
    <button class="btn btn-primary" type="submit">Update</button>
  </form>
</div>
</div>

{% include "partials/sentence_list_inner.html" %}
{% endblock %}
